### 项目介绍

"赤心图迹"红色景点地图是为了记录 2026 年寒假，仪光赤心实践队在福建这一红色文化底蕴浓厚的省份中，参观过的红色景点而制作的项目。同时，本项目也收录了全国各地具有代表性的红色景点，覆盖黑龙江、辽宁、陕西、山东、湖北、贵州、福建、山西等 18 个省份，共计 40+ 个红色景点。

本项目基于 [Leaflet](https://leafletjs.cn/) 开源轻量地图库开发，地图瓦片来自[高德地图](https://www.amap.com/)，并通过高德地图 JS API 实现附近红色景点的联网搜索。

本地图的功能有：

- 缩放、拖动、浏览地图
- **侧边栏省份筛选**：通过下拉菜单按省份筛选景点，点击景点名称即可跳转到该景点位置并弹出详情
- 点击红色景点图标以浏览该景点的介绍（含图片与文字说明）
- 在 PC 端显示鼠标所指位置的经纬度
- **定位与附近搜索**：在地图上显示你的位置，并通过高德 API 联网搜索距离你最近的五个红色景点（需要允许获取位置信息）
- **屏幕中心搜索**：点击搜索按钮或放大地图后，自动搜索屏幕中心附近的红色景点并在地图上显示
- **轮播图展示**：底部自动播放红色景点图片，支持手动切换和展开/收起（移动端默认收起）
- 响应式设计，适配 PC 端和移动端

### 使用指南

点击[这里](https://asuka22233.github.io/hs-text/)进入地图网页

点击右下角 `+` 键以放大地图

点击右下角 `-` 键以缩小地图

点击右下角"标靶"键以定位到你的位置。

您也可以在 PC 端使用鼠标滚轮缩放，在移动端使用双指缩放。

点击左上角 `☰` 键以打开或关闭侧边栏。在侧边栏顶部可以通过省份下拉菜单筛选不同地区的景点。

侧边栏的金色文字是可以点击的哦，试试效果吧！

<img src="img/mark1.png" width=50% alt="点击金色文字可以传送"></img>

点击红色景点图标以浏览该景点的介绍。

<img src="img/mark2.png" width=50% alt="李兆麟将军纪念馆" ></img>

### 技术细节

[本项目](https://github.com/Asuka22233/hs-text)是一个纯前端的项目，没有后端服务器，所有数据和逻辑均在浏览器端运行。

主要技术栈：

- **[Leaflet](https://leafletjs.cn/)**：开源轻量地图库，负责地图渲染、标记点管理、弹窗交互等核心功能
- **[高德地图瓦片](https://www.amap.com/)**：提供地图底图数据
- **[高德地图 JS API](https://lbs.amap.com/)**：用于联网搜索用户附近和指定区域内的红色景点 POI
- **WGS-84 / GCJ-02 坐标转换**：高德地图使用 GCJ-02（国测局坐标），通过 `leaflet.mapCorrection.js` 纠正 Leaflet 中的坐标偏移（参考[这篇博客](https://www.cnblogs.com/s0611163/p/15606460.html)）
- **响应式布局**：通过 `mobile.css` 媒体查询适配移动端显示

### 项目结构

```
├── index.html              # 主页面
├── config/config.js        # 高德地图 API 配置
├── css/
│   ├── index.css           # 主样式
│   └── mobile.css          # 移动端适配样式
├── js/
│   ├── index.js            # 主逻辑：标记点渲染、侧边栏、轮播图
│   ├── map.js              # 地图初始化与配置
│   ├── navigator.js        # 用户定位与最近景点搜索
│   ├── redSites.js         # 联网搜索附近红色景点
│   ├── pathPoints.js       # 红色景点数据
│   ├── icon.js             # 自定义图标
│   ├── coord.js            # WGS-84 / GCJ-02 坐标转换
│   └── locateControl.js    # 定位按钮控件
├── lib/
│   └── leaflet.mapCorrection.js  # Leaflet 坐标纠偏插件
└── img/                    # 景点图片资源
```
